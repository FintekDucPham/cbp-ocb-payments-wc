<div>

    <eb-preloader class="eb-list-preloader" eb-promise="recipient.promises.authorizationPromise"></eb-preloader>

    <bd-item-property class="bd-item-property--text bd-item-property--disabled" label="{{ ::'raiff.payments.recipients.new.domestic.fill.account_related' | translate }}">
        <section ng-show="recipient.items.senderAccount.accountName && recipient.items.senderAccount.accountNo">
            {{ recipient.items.senderAccount.accountName }}&nbsp;

            {{ recipient.items.senderAccount.accountNo }}
        </section>
        <section ng-hide="recipient.items.senderAccount.accountName && recipient.items.senderAccount.accountNo">
            {{ recipient.formData.debitAccountNo | nrbIbanFilter }}
        </section>
    </bd-item-property>

    <bd-item-property class="bd-item-property--text bd-item-property--disabled" label="{{ ::'raiff.payments.recipients.new.domestic.fill.custom_name.label' | translate }}">
        {{ recipient.formData.customName }}
    </bd-item-property>

    <bd-item-property class="bd-item-property--text bd-item-property--disabled" label="{{ ::'raiff.payments.recipients.new.domestic.fill.recipient_account.label' | translate }}">
        {{ recipient.formData.recipientAccountNo | nrbIbanFilter }}
    </bd-item-property>

    <bd-item-property class="bd-item-property--multirow bd-item-property--text bd-item-property--disabled"
                      label="{{ ::'raiff.payments.recipients.new.domestic.fill.recipient_data.label' | translate }}">
        <p style="white-space: pre;" ng-bind-html="recipient.formData.recipientData.join('\n')"></p>
    </bd-item-property>

    <bd-item-property class="bd-item-property--multirow bd-item-property--text bd-item-property--disabled"
                      label="{{ ::'raiff.payments.recipients.new.domestic.fill.description.label' | translate }}">
        <p style="white-space: pre;" ng-bind-html="recipient.formData.description.join('\n')"></p>
    </bd-item-property>

    <span ng-if="recipient.promises.authorizationPromise.$$state.status === 1">
    <form name="recipientAuthForm" novalidate ng-if="recipient.options.twoStepAuthorization">
        <div ng-init="setForm(recipientAuthForm);"></div>

        <bd-item-property label="{{ recipient.items.smsText }}">

            <input type="text"
                   name="authCode"
                   ng-model="recipient.items.credentials"
                   required/>

            <eb-validation-messages eb-name="authCode">
                <div eb-message-key="required" class="validation-message animate-on">
                    {{::'raiff.payments.new.domestic.fill.execution_date.EMPTY_AUTH'|translate}}
                </div>
            </eb-validation-messages>

        </bd-item-property>

    </form>
    </span>

    <form name="paymentResponseForm">

        <input ng-model="paymentResponseModel" type="hidden" name="payment" />
        <eb-validation-messages eb-name="payment">
            <div eb-message-key="payment.token.authorization_blocked" class="validation-message animate-on">
                {{::'raiff.payments.recipients.authorization.BLOCKED_SMS'|translate}}
            </div>
        </eb-validation-messages>

    </form>


</div>