
<rb-content-view class="rb-content-view--framed rb-payments-new form">
    <bd-header ng-if="payment.type.code == 'STANDING' && payment.operation.code == 'NEW'">{{::'raiff.payments.new.label.STANDING.NEW.header'|translate}}</bd-header>
    <bd-header ng-if="(payment.type.code == 'SEPA' ||  payment.type.code == 'SWIFT') && payment.operation.code == 'NEW'">{{::'payments.submenu.options.new_foreign.header'|translate}}</bd-header>
    <bd-header ng-if="payment.type.code == 'STANDING' && payment.operation.code == 'EDIT'">{{::'raiff.payments.new.label.STANDING.EDIT.header'|translate}}</bd-header>
    <bd-header ng-if="payment.type.code != 'STANDING' && payment.type.code == 'SEPA' &&  payment.type.code == 'SWIFT'">{{::'raiff.payments.new.label.header'|translate}}</bd-header>
    <bd-form-panel>

        <bd-item-property
                label="{{::'raiff.payments.new.payment_type'|translate}}"
                ng-show="payment.type.code != 'STANDING'"
                >

            <ui-select ng-model="payment.type"
                       theme="bootstrap"
                       on-select="changePaymentType($item)"
                       ng-disabled="activeStep.id !== 'fill' || payment.fixedAccountSelection"
                       reset-search-input="false"
                       required
                    >
                <ui-select-match placeholder="{{ ::'raiff.payments.new.payment_type.select'|translate }}">
                    {{'raiff.payments.new.types.' + $select.selected.code | translate}}
                </ui-select-match>
                <ui-select-choices repeat="paymentType in payment.meta.paymentTypes">
                    <div ng-bind-html="::'raiff.payments.new.types.' + paymentType.code | translate | highlight: $select.search"></div>
                </ui-select-choices>
            </ui-select>

        </bd-item-property>

        <rb-multistep-form bd-active-step="activeStep" bd-step-remote="stepRemote" rb-step-params="payment.rbPaymentsStepParams">
            <div ng-if="payment.initData.promise.$$state.status!==0">
                <div ui-view></div>
            </div>
        </rb-multistep-form>

    </bd-form-panel>

</rb-content-view>